---
const label = 'Toggle theme';
---

<button class="theme-toggle" type="button" aria-label={label} data-theme-toggle>
	<span class="theme-toggle__icon theme-toggle__icon--sun" aria-hidden="true">
		<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8">
			<circle cx="12" cy="12" r="4" />
			<path d="M12 3v2M12 19v2M3 12h2M19 12h2M5.6 5.6l1.4 1.4M17 17l1.4 1.4M5.6 18.4 7 17M17 7l1.4-1.4" />
		</svg>
	</span>
	<span class="theme-toggle__icon theme-toggle__icon--moon" aria-hidden="true">
		<svg viewBox="0 0 24 24" width="18" height="18" fill="none" stroke="currentColor" stroke-width="1.8">
			<path d="M20 12.4A7.6 7.6 0 1 1 11.6 4a6 6 0 0 0 8.4 8.4Z" />
		</svg>
	</span>
</button>

<script is:inline>
	const button = document.querySelector('[data-theme-toggle]');
	if (button) {
		button.addEventListener('click', () => {
			const root = document.documentElement;
			const current = root.dataset.theme || 'latte';
			const next = current === 'mocha' ? 'latte' : 'mocha';
			root.dataset.theme = next;
			localStorage.setItem('theme', next);
		});
	}
</script>
